# =================================================================
# CONFIGURAÇÕES DO H2 EM MEMÓRIA (COMENTADAS - CAUSA ERRO ONLINE)
# =================================================================
# O banco de dados H2 em modo 'mem:' é apenas para desenvolvimento local.
# Ele não é persistente e fará sua aplicação falhar em ambientes PaaS como o Railway.
# Mantenha-o COMENTADO ao implantar em um ambiente de produção/PaaS.
# spring.datasource.url=jdbc:h2:mem:gamespher
# spring.datasource.driver-class-name=org.h2.Driver
# spring.datasource.username=sa
# spring.datasource.password=
# spring.h2.console.enabled=true


# =================================================================
# CONFIGURAÇÕES DE PRODUÇÃO (POSTGRESQL - VARIÁVEIS DO RAILWAY)
# =================================================================

# 1. Driver
# O Railway usa PostgreSQL. Esta linha garante que o driver correto seja carregado.
spring.datasource.driver-class-name=org.postgresql.Driver

# 2. URL de Conexão (Variável de Ambiente)
# O Railway, ao provisionar um serviço de PostgreSQL, CRIA AUTOMATICAMENTE a variável
# 'DATABASE_URL' com a string de conexão completa. O Spring Boot a lerá aqui.
spring.datasource.url=${DATABASE_URL}
# Se a DATABASE_URL não for encontrada, ele usará um URL de teste (opcional, mas bom para debug):
# spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/gamespher_local}

# =================================================================
# JPA/HIBERNATE E INICIALIZAÇÃO DE SCHEMA
# =================================================================

# Define como o Hibernate deve gerenciar o schema do banco de dados:
# 'update' tenta atualizar o schema (útil para desenvolvimento com SQL local)
# Use 'none' se você não quiser que o Hibernate toque no schema.
spring.jpa.hibernate.ddl-auto=update

# Habilitar a inicialização de scripts SQL (schema.sql e data.sql)
spring.sql.init.mode=always 

# --- LINHA REMOVIDA DAQUI ---
# Ao remover 'spring.sql.init.data-locations=', o Spring carregará automaticamente o data.sql

# Mostra no console o SQL utilizado pelo JPA (útil para debug)
spring.jpa.properties.hibernate.show_sql=true
spring.jpa.properties.hibernate.format_sql=true

# =================================================================
# OUTRAS CONFIGURAÇÕES
# =================================================================

# Desativa cache dos templates (útil durante o desenvolvimento)
spring.thymeleaf.cache=false

